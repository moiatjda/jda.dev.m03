

<!DOCTYPE html>
<html class="writer-html5" lang="ca" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sobre el return &mdash; Introducció a la programació amb Java 2020-21 documentació</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Funcions arreu" href="funcions_arreu.html" />
    <link rel="prev" title="Breu consideració sobre eficiència" href="funcions_eficiencia.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Introducció a la programació amb Java
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2020-21
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="moduls.html">Mòduls</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="moduls_junit.html">Una mica de bricolatge</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_intro.html">Un primer contacte</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="moduls_funcions.html">Funcions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="funcions_intro.html">El que ja sabem dels mòduls</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_nou_tipus.html">Un nou tipus de mòdul</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_crides.html">Aprofitem la funció</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_eficiencia.html">Breu consideració sobre eficiència</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Sobre el <code class="docutils literal notranslate"><span class="pre">return</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_arreu.html">Funcions arreu</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_collaterals.html">Efectes col·laterals</a></li>
<li class="toctree-l3"><a class="reference internal" href="moduls_reutilitzacio.html">Reutilització dels mòduls</a></li>
<li class="toctree-l3"><a class="reference internal" href="moduls_biblioteques.html">La meva biblioteca</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_conclusions.html">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="moduls_variables.html">Variables i mòduls</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_recursivitat.html">Recursivitat</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_conclusions.html">Conclusions</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_exercicis.html">Llista d’exercicis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="moduls.html">Mòduls</a> &raquo;</li>
        
          <li><a href="moduls_funcions.html">Funcions</a> &raquo;</li>
        
      <li>Sobre el <code class="docutils literal notranslate"><span class="pre">return</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
            
  <div class="section" id="sobre-el-return">
<h1>Sobre el <code class="docutils literal notranslate"><span class="pre">return</span></code><a class="headerlink" href="#sobre-el-return" title="Link permanent a aquest títol">¶</a></h1>
<p>Potser recordaràs la presentació del <code class="docutils literal notranslate"><span class="pre">return</span></code> a <a class="reference internal" href="control_return.html"><span class="doc">El programa s’ha acabat</span></a>.
En aquella ocasió, el fèiem servir per finalitzar completament un programa
sencer. Bé, en realitat finalitzàvem el <code class="docutils literal notranslate"><span class="pre">main()</span></code> però en aquells temps
no érem conscients de l’existència dels mòduls.</p>
<p>De fet, podem fer servir <code class="docutils literal notranslate"><span class="pre">return</span></code> en qualsevol dels dos tipus de mòduls
que coneixem (funcions i procediments) En el cas de les funcions,
<code class="docutils literal notranslate"><span class="pre">return</span></code> ha d’estar seguit d’una expressió del tipus de retorn, mentre
que en els procediments no ha d’estar segut de cap valor.</p>
<p>Podem fer servir més d’un <code class="docutils literal notranslate"><span class="pre">return</span></code> al mateix mòdul? Doncs sí, és clar.
Per exemple, considera el següent programa que promet destruir l’equip
dels usuaris:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * Programa que destrueix l&#39;equip en el que s&#39;executa.</span>
<span class="cm"> * Abans de fer res, demana confirmació als usuaris.</span>
<span class="cm"> * Nota: potser al final no s&#39;atreveix a fer-ho</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Autodestruccio</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Estic apunt de destruir el teu ordinador. Estàs d&#39;acord?&quot;</span><span class="p">);</span>
        <span class="n">String</span> <span class="n">resposta</span> <span class="o">=</span> <span class="n">Entrada</span><span class="p">.</span><span class="na">readLine</span><span class="p">();</span>
        <span class="kt">boolean</span> <span class="n">confirma</span> <span class="o">=</span> <span class="n">respostaABoolean</span><span class="p">(</span><span class="n">resposta</span><span class="p">);</span>
        <span class="n">destrueixSiConfirmat</span><span class="p">(</span><span class="n">confirma</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/*</span>
<span class="cm">     * Donada una resposta textual, aquesta funció tradueix la resposta a</span>
<span class="cm">     * un booleà.</span>
<span class="cm">     * Considera true quan la resposta és, independentment de majúscules i</span>
<span class="cm">     * sense considerar espais a l&#39;inici ni al final,</span>
<span class="cm">     * &quot;sí&quot;, &quot;s&quot;, &quot;yes&quot; o &quot;y&quot;, i algunes variants amb errors ortogràfics.</span>
<span class="cm">     * Altrament considera false.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">respostaABoolean</span><span class="p">(</span><span class="n">String</span> <span class="n">resposta</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">resposta</span><span class="p">)</span> <span class="p">{</span>     <span class="c1">// si la resposta és null, la donem com a false</span>
<span class="hll">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span>        <span class="p">}</span>
        <span class="n">resposta</span> <span class="o">=</span> <span class="n">resposta</span><span class="p">.</span><span class="na">toLowerCase</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;s&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">))</span> <span class="p">{</span>
<span class="hll">            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span>        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;sí&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">))</span> <span class="p">{</span>
<span class="hll">            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span>        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;si&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;vale&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="n">resposta</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;yeah&quot;</span><span class="p">))</span> <span class="p">{</span>
<span class="hll">            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span>        <span class="p">}</span>
<span class="hll">        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span>    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * En cas que li passin true a la confirmació, aquest procediment</span>
<span class="cm">     * destrueix l&#39;equip en el que s&#39;estigui executant (bé, més o menys)</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">destrueixSiConfirmat</span><span class="p">(</span><span class="kt">boolean</span> <span class="n">confirmacio</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="n">confirmacio</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Uf! Ha estat d&#39;un pel!&quot;</span><span class="p">);</span>
<span class="hll">            <span class="k">return</span><span class="p">;</span>
</span>        <span class="p">}</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;El teu equip es destruirà en&quot;</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Valeeee. Anava de farol!&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Aquest codi tan <em>perillós</em> presenta un bon grapat de <code class="docutils literal notranslate"><span class="pre">return</span></code>.</p>
<p>Comencem amb <code class="docutils literal notranslate"><span class="pre">destrueixSiConfirmat()</span></code>. Aquest procediment presenta dos
<code class="docutils literal notranslate"><span class="pre">return</span></code>. Potser només en veus un? Això és perquè no comptes el de la
línia 53. És un <code class="docutils literal notranslate"><span class="pre">return</span></code> implícit que fan els procediments quan arriben
al final de les línies del bloc. Si el posem explícitament només canviarà
en que el nostre programa tindrà una línia més de codi.</p>
<p>La funció <code class="docutils literal notranslate"><span class="pre">respostaABoolean()</span></code> que presenta fins a 5 <code class="docutils literal notranslate"><span class="pre">return</span></code>. En el
cas de les funcions, no podem deixar implícit el <code class="docutils literal notranslate"><span class="pre">return</span></code> del final del
bloc doncs <strong>cal</strong> que retornem un valor del tipus indicat a la seva
signatura. En aquest cas un booleà. Clar, java no es pot inventar el valor
a retornar.</p>
<p>Cada <code class="docutils literal notranslate"><span class="pre">return</span></code> es sol anomenar <em>punt de sortida</em>.</p>
<p>Cal tenir present que un mòdul amb més d’un punt de sortida dificulta la
seva modificabilitat. Pensa què passaria si ens calgués que
<code class="docutils literal notranslate"><span class="pre">destrueixSiConfirmat()</span></code> finalitzés sempre escrivint <em>Adéu</em>.</p>
<p>Així, què fem? més d’un punt de sortida o només un? Tot i que la resposta
variarà en funció de «l’escola» dels experts a qui demanis, la meva
recomanació és: mira de fer sempre el que resulti en un codi més fàcil de
llegir.</p>
</div>


           </div>
           
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>


          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="funcions_arreu.html" class="btn btn-neutral float-right" title="Funcions arreu" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="funcions_eficiencia.html" class="btn btn-neutral float-left" title="Breu consideració sobre eficiència" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>