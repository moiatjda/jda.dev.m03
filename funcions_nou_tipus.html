

<!DOCTYPE html>
<html class="writer-html5" lang="ca" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Un nou tipus de mòdul &mdash; Introducció a la programació amb Java 2020-21 documentació</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Aprofitem la funció" href="funcions_crides.html" />
    <link rel="prev" title="El que ja sabem dels mòduls" href="funcions_intro.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Introducció a la programació amb Java
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2020-21
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="moduls.html">Mòduls</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="moduls_junit.html">Una mica de bricolatge</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_intro.html">Un primer contacte</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="moduls_funcions.html">Funcions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="funcions_intro.html">El que ja sabem dels mòduls</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Un nou tipus de mòdul</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_crides.html">Aprofitem la funció</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_eficiencia.html">Breu consideració sobre eficiència</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_return.html">Sobre el <code class="docutils literal notranslate"><span class="pre">return</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_arreu.html">Funcions arreu</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_collaterals.html">Efectes col·laterals</a></li>
<li class="toctree-l3"><a class="reference internal" href="moduls_reutilitzacio.html">Reutilització dels mòduls</a></li>
<li class="toctree-l3"><a class="reference internal" href="moduls_biblioteques.html">La meva biblioteca</a></li>
<li class="toctree-l3"><a class="reference internal" href="funcions_conclusions.html">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="moduls_variables.html">Variables i mòduls</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_recursivitat.html">Recursivitat</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_conclusions.html">Conclusions</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_exercicis.html">Llista d’exercicis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="moduls.html">Mòduls</a> &raquo;</li>
        
          <li><a href="moduls_funcions.html">Funcions</a> &raquo;</li>
        
      <li>Un nou tipus de mòdul</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
            
  <div class="section" id="un-nou-tipus-de-modul">
<h1>Un nou tipus de mòdul<a class="headerlink" href="#un-nou-tipus-de-modul" title="Link permanent a aquest títol">¶</a></h1>
<p>Si bé hem resolt el problema, el resultat potser no ens agrada del tot. Si
més no, el mòdul <code class="docutils literal notranslate"><span class="pre">comparaAiEs()</span></code> ha de <em>tornar</em> a comptar les ocurrències
de les dues lletres per poder fer la seva feina.</p>
<p>Si poguéssim aconseguir guardar d’alguna manera el nombre de vegades que
apareixen les vocals <code class="docutils literal notranslate"><span class="pre">'a'</span></code> i <code class="docutils literal notranslate"><span class="pre">'e'</span></code>, la comparació seria immediata, no?</p>
<p>Considera la següent versió amb molta atenció, que ara sí hi ha novetats:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * programa que mostra quantes &#39;a&#39;s i &#39;e&#39;s té un text</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ComptaAiEs</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Introdueix un text&quot;</span><span class="p">);</span>
        <span class="n">String</span> <span class="n">entrada</span> <span class="o">=</span> <span class="n">Entrada</span><span class="p">.</span><span class="na">readLine</span><span class="p">();</span>
        <span class="n">comptaLletra</span><span class="p">(</span><span class="n">entrada</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span><span class="p">);</span>
        <span class="n">comptaLletra</span><span class="p">(</span><span class="n">entrada</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">);</span>
        <span class="n">comparaAiEs</span><span class="p">(</span><span class="n">entrada</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">comptaLletra</span><span class="p">(</span><span class="n">String</span> <span class="n">text</span><span class="p">,</span> <span class="kt">char</span> <span class="n">lletra</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">        <span class="kt">int</span> <span class="n">comptador</span> <span class="o">=</span> <span class="n">quantesOcurrencies</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">lletra</span><span class="p">);</span>
</span>        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Nombre de &#39;&quot;</span> <span class="o">+</span> <span class="n">lletra</span> <span class="o">+</span> <span class="s">&quot;&#39;s: &quot;</span> <span class="o">+</span> <span class="n">comptador</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">comparaAiEs</span><span class="p">(</span><span class="n">String</span> <span class="n">text</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">        <span class="kt">int</span> <span class="n">comptadorA</span> <span class="o">=</span> <span class="n">quantesOcurrencies</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span><span class="p">);</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">comptadorE</span> <span class="o">=</span> <span class="n">quantesOcurrencies</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">);</span>
</span>        <span class="k">if</span> <span class="p">(</span><span class="n">comptadorA</span> <span class="o">&gt;</span> <span class="n">comptadorE</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hi ha més &#39;a&#39;s que &#39;e&#39;s&quot;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">comptadorA</span> <span class="o">&lt;</span> <span class="n">comptadorE</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hi ha menys &#39;a&#39;s que &#39;e&#39;s&quot;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hi ha tantes &#39;a&#39;s com &#39;e&#39;s&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">quantesOcurrencies</span><span class="p">(</span><span class="n">String</span> <span class="n">text</span><span class="p">,</span> <span class="kt">char</span> <span class="n">lletra</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">comptador</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="na">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="n">lletra</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">comptador</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
<span class="hll">        <span class="k">return</span> <span class="n">comptador</span><span class="p">;</span>
</span>    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>A veure què ha passat aquí!</p>
<p>En primer lloc, ha aparegut un nou mòdul anomenat <code class="docutils literal notranslate"><span class="pre">quantesOcurrencies()</span></code>
Aquest mòdul rep el text i una lletra i calcula el nombre d’ocurrències de
la lletra dins del text. Això és exactament el que feia
<code class="docutils literal notranslate"><span class="pre">comptaLletra()</span></code>, excepte per un <em>petit</em> detall: en comptes de mostrar
el resultat per la sortida estàndard, <code class="docutils literal notranslate"><span class="pre">quantesOcurrencies()</span></code> el
<strong>retorna</strong>!</p>
<p>Ara, a cada lloc on abans havíem d’incloure un bucle per comptar quantes
vegades apareix una lletra al text, hem substituït el bucle per una crida
a <code class="docutils literal notranslate"><span class="pre">quantesOcurrencies()</span></code>. Mira les línies 13, 17 i 18.</p>
<p>Fixa’t en les diferències de <code class="docutils literal notranslate"><span class="pre">quantesOcurrencies()</span></code> respecte a altres
mòduls com ara <code class="docutils literal notranslate"><span class="pre">comptaLletra()</span></code>:</p>
<ul>
<li><p>a la declaració del mòdul apareix, en comptes de <code class="docutils literal notranslate"><span class="pre">void</span></code> un tipus. En
aquest cas <code class="docutils literal notranslate"><span class="pre">int</span></code>, però podria ser qualsevol altre.</p>
<p>Sovint ens referirem a aquest tipus com el <em>tipus de retorn</em> del mòdul.</p>
</li>
<li><p>la darrera línia del mòdul conté <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">comptador;</span></code>. El comptador és
una variable de tipus enter, a l’igual que el tipus de retorn del mòdul.</p>
<p>En realitat no cal que sigui una variable. Pot ser qualsevol expressió
que retorni un valor del mateix tipus que el tipus de retorn.</p>
</li>
<li><p>la manera de cridar a <code class="docutils literal notranslate"><span class="pre">quantesOcurrencies()</span></code> també és diferent. En
comptes de fer la crida com a instrucció (fixa’t en la línia 8 per
exemple) ho fem <em>com a expressió</em>. Per exemple, la línia 13 assigna el
valor resultant de cridar a <code class="docutils literal notranslate"><span class="pre">quantesOcurrencies()</span></code> a la variable
<code class="docutils literal notranslate"><span class="pre">comptador</span></code>.</p></li>
<li><p>la manera d’anomenar aquest mòdul és diferent la que hem vist fins ara.
La recomanació amb els mòduls anteriors era fer servir un nom d’acció
per descriure l’acció que realitzava. En aquest cas «quantes
ocurrències» no és ben bé un verb sinó un substantiu similar al que
faríem servir per anomenar una variable!</p></li>
</ul>
<p>Amb totes aquestes diferències ja pots imaginar que estem davant d’una
<em>bestiola</em> diferent de les anteriors. I així és.</p>
<p>A aquest tipus de mòduls que <em>retornen</em> un valor, els coneixem com
<em>funcions</em>, en contraposició als que no retornen cap valor (<code class="docutils literal notranslate"><span class="pre">void</span></code>) que
es solen anomenar <em>procediments</em><a class="footnote-reference brackets" href="#totsonfuncions" id="id1">1</a>.</p>
<hr class="docutils" />
<dl class="footnote brackets">
<dt class="label" id="totsonfuncions"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>També val a dir que trobem molta gent que parla
directament de funcions per referir-se als mòduls, especialment en
llenguatges com java en els que la definició del mòdul la diferència
la marca si el tipus de retorn és o no <code class="docutils literal notranslate"><span class="pre">void</span></code>. Pensa però que la
distinció és prou rellevant com per que altres llenguatges ho
remarquin.  Per exemple, els llenguatges <em>Pascal</em> i <em>Ada</em> fan servir
<code class="docutils literal notranslate"><span class="pre">Procedure</span></code>/<code class="docutils literal notranslate"><span class="pre">procedure</span></code> i <code class="docutils literal notranslate"><span class="pre">Function</span></code>/<code class="docutils literal notranslate"><span class="pre">function</span></code> per
declarar mòduls d’un o altre tipus.</p>
</dd>
</dl>
</div>


           </div>
           
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>


          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="funcions_crides.html" class="btn btn-neutral float-right" title="Aprofitem la funció" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="funcions_intro.html" class="btn btn-neutral float-left" title="El que ja sabem dels mòduls" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>